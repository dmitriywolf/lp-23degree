window.addEventListener("DOMContentLoaded",()=>{(()=>{const e=document.querySelector("#header"),t=document.querySelector(".intro");let o=t.offsetHeight,n=window.pageYOffset||document.documentElement.scrollTop;const s=document.querySelector(".nav"),c=document.querySelector(".burger__wrapper");window.addEventListener("scroll",()=>{o=t.offsetHeight,n=window.pageYOffset||document.documentElement.scrollTop,n>o?e.classList.add("fixed","animated","fadeInDown","show"):e.classList.remove("fixed","fadeInDown","show"),n<o&&s.classList.contains("show")&&e.classList.add("show")}),c.addEventListener("click",t=>{t.preventDefault(),n<o&&e.classList.toggle("show"),s.classList.toggle("show"),c.classList.toggle("burger--close")})})();(e=>{const t=document.querySelector(e);window.addEventListener("scroll",()=>{document.documentElement.scrollTop>1650?(t.classList.add("animated","fadeIn"),t.classList.remove("fadeOut")):(t.classList.add("fadeOut"),t.classList.remove("fadeIn"))});const o=document.querySelectorAll('[href^="#"]');o.forEach(e=>{e.addEventListener("click",(function(e){e.preventDefault();const t=document.documentElement.scrollTop,{hash:o}=this,n=document.querySelector(o).getBoundingClientRect().top;let s=null;requestAnimationFrame((function e(c){null===s&&(s=c);const l=c-s,r=n<0?Math.max(t-l/.2,t+n):Math.min(t+l/.2,t+n);document.documentElement.scrollTo(0,r),r!==t+n?requestAnimationFrame(e):location.hash=o}))}))})})(".pageup");(()=>{const e=document.querySelector(".portfolio__nav"),t=e.querySelectorAll("div"),o=e.querySelector(".all"),n=e.querySelector(".exteriors"),s=e.querySelector(".interiors"),c=e.querySelector(".public-interiors"),l=document.querySelector(".portfolio__list"),r=l.querySelectorAll(".all"),a=l.querySelectorAll(".exteriors"),i=l.querySelectorAll(".interiors"),d=l.querySelectorAll(".public-interiors"),u=e=>{r.forEach(e=>{e.style.display="none",e.classList.remove("animated","fadeIn")}),e&&e.forEach(e=>{e.style.display="block",e.classList.add("animated","fadeIn")})};o.addEventListener("click",()=>{u(r)}),n.addEventListener("click",()=>{u(a)}),s.addEventListener("click",()=>{u(i)}),c.addEventListener("click",()=>{u(d)}),e.addEventListener("click",e=>{const{target:o}=e;o&&"DIV"===o.tagName&&(t.forEach(e=>e.classList.remove("is-active")),o.classList.add("is-active"))})})();(()=>{const e=document.querySelectorAll("form"),t=document.querySelectorAll("input"),o=document.querySelectorAll("textarea");document.querySelectorAll('input[type="tel"]').forEach(e=>{e.addEventListener("input",()=>{e.value=e.value.replace(/\D/,"")})});const n="Загрузка...",s="Спасибо! Мы ответим Вам в течении 10 минут",c="Извините! Что-то пошло не так...",l="./img/loading.gif",r="./img/success.png";e.forEach(e=>{e.addEventListener("submit",a=>{a.preventDefault();const i=document.createElement("div");i.classList.add("popup__answer","animated","flipInX"),document.body.append(i);const d=document.createElement("img");d.setAttribute("src",l),i.append(d);const u=document.createElement("p");u.textContent=n,i.append(u);const m=document.createElement("div");m.classList.add("img__failed");(async(e,t)=>{const o=await fetch(e,{method:"POST",body:t});return await o.text()})("./server.php",new FormData(e)).then(e=>{d.setAttribute("src",r),u.textContent=s}).catch(()=>{d.remove(),i.prepend(m),u.textContent=c}).finally(()=>{t.forEach(e=>{e.value=""}),o.forEach(e=>{e.value=""}),setTimeout(()=>{i.classList.remove("flipInX"),i.classList.add("flipOutX")},3e3)})})})})();((e,t,o)=>{let n=1,s=!1;const c=document.querySelectorAll(e);function l(e){e>c.length&&(n=1),e<1&&(n=c.length),c.forEach(e=>{e.classList.add("animated"),e.style.display="none"}),c[n-1].style.display="flex"}function r(e){l(n+=e)}l(n);try{const e=document.querySelector(t),s=document.querySelector(o);e.addEventListener("click",()=>{r(-1),c[n-1].classList.remove("zoomOut"),c[n-1].classList.add("zoomIn")}),s.addEventListener("click",()=>{r(1),c[n-1].classList.remove("zoomIn"),c[n-1].classList.add("zoomOut")})}catch(e){}function a(){s=setInterval(()=>{r(1),c[n-1].classList.remove("zoomOut"),c[n-1].classList.add("zoomIn")},4e3)}a(),c[0].parentNode.addEventListener("mouseenter",()=>{clearInterval(s)}),c[0].parentNode.addEventListener("mouseleave",()=>{a()})})(".quote-item-slider");new Glide(".glide",{type:"carousel",startAt:0,perView:5,breakpoints:{1024:{perView:4},768:{perView:3},600:{perView:2},420:{perView:1}}}).mount()});